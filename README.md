# ç§‘ç ”è®ºæ–‡è¾…åŠ©é˜…è¯» MCP ç³»ç»Ÿï¼ˆæœ¬åœ°ç‰ˆï¼‰

æœ¬ç³»ç»ŸåŸºäº MCP (Model Context Protocol) æ„å»ºï¼Œæä¾›æœ¬åœ° PDF è§£æã€ç»“æ„åŒ–æå–ã€æ•°å­¦å…¬å¼æ·±åº¦è§£æã€ä»£ç ç”Ÿæˆä¸å¯è§†åŒ–åŠŸèƒ½ã€‚
æ‰€æœ‰è®¡ç®—å‡åœ¨æœ¬åœ°è¿è¡Œï¼Œæ”¯æŒé€šè¿‡ Trae å†…ç½®å¤§æ¨¡å‹æˆ–æœ¬åœ° LLM è¿›è¡Œå¢å¼ºã€‚

## âœ¨ åŠŸèƒ½äº®ç‚¹

- **ğŸ“š PDF æ·±åº¦è§£æ**ï¼š`pdf_loader` è¯»å–æœ¬åœ° PDFï¼Œ`structure_parser` æ™ºèƒ½åˆ‡åˆ†ç« èŠ‚ã€‚
- **ğŸ”¢ æ·±åº¦æ•°å­¦æ™ºèƒ½**ï¼š`math_explainer` æå–å…¬å¼ã€æ„å»º ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ï¼Œå¹¶å­˜å…¥æœ¬åœ° SQLite æ•°æ®åº“ã€‚
- **ğŸ’» å®éªŒå¤ç°è¾…åŠ©**ï¼š`code_generator` è‡ªåŠ¨ä»è®ºæ–‡ä¸­æå–è¶…å‚æ•°ï¼Œç”Ÿæˆ PyTorch æ¨¡å‹å®šä¹‰ä¸è®­ç»ƒè„šæœ¬ã€‚
- **ğŸ“Š å¯è§†åŒ–å›¾è¡¨**ï¼š`visualization` ç”Ÿæˆ Mermaid æµç¨‹å›¾ä¸å˜é‡ä¾èµ–å›¾ã€‚
- **ğŸ§  çŸ¥è¯†ç®¡ç†**ï¼šæœ¬åœ°æ•°æ®åº“ `papers.db` è‡ªåŠ¨å­˜å‚¨è®ºæ–‡å…ƒæ•°æ®ã€ç¬¦å·å®šä¹‰ä¸å®éªŒè®°å½•ã€‚

## ğŸ› ï¸ éƒ¨ç½²ä¸å®‰è£…

### å‰ç½®è¦æ±‚
- Node.js (v16+)
- Git

### 1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/Lxy-hqu/-mcp-.git
cd -mcp-
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. ç¼–è¯‘é¡¹ç›®
```bash
npx tsc
```

### 4. é…ç½® Trae (æˆ– Cursor)

#### è‡ªåŠ¨é…ç½® (æ¨è)
æœ¬ä»“åº“åŒ…å«ä¸€ä¸ª `trae_mcp_config.json` æ¨¡æ¿ã€‚ä½ éœ€è¦å°†å…¶ä¸­çš„ `command` è·¯å¾„ä¿®æ”¹ä¸ºä½ æœ¬åœ° Node.js çš„**ç»å¯¹è·¯å¾„**ï¼Œ`args` ä¿®æ”¹ä¸º `server.js` çš„**ç»å¯¹è·¯å¾„**ã€‚

**Windows ç”¨æˆ·ç¤ºä¾‹é…ç½®ï¼š**
æ‰“å¼€ Trae è®¾ç½® -> MCP Servers -> Edit in settings.jsonï¼š
```json
{
  "mcpServers": {
    "local-papers": {
      "command": "C:\\Program Files\\nodejs\\node.exe", 
      "args": [
        "E:\\path\\to\\-mcp-\\dist\\server.js"
      ],
      "disabled": false,
      "autoApprove": []
    }
  }
}
```
> ğŸ’¡ æç¤ºï¼šåœ¨ç»ˆç«¯è¿è¡Œ `where node` å¯è·å– Node.js çš„å®‰è£…è·¯å¾„ã€‚

### 5. éªŒè¯è¿è¡Œ
é‡å¯ Trae åï¼Œåœ¨ MCP ç®¡ç†é¢æ¿ä¸­åº”æ˜¾ç¤º `local-papers` ä¸º **Connected** çŠ¶æ€ã€‚
ä½ å¯ä»¥å°è¯•åœ¨å¯¹è¯æ¡†ä¸­è¾“å…¥ï¼šâ€œè¯·ä½¿ç”¨ `pdf_loader` è¯»å–è¿™ä¸ªæ–‡ä»¶ï¼š`E:\my_paper.pdf`â€ æ¥æµ‹è¯•ã€‚

## ğŸ“ ä½¿ç”¨æŒ‡å—

### æ•°å­¦å…¬å¼è§£æ
> "è§£æè¿™ç¯‡è®ºæ–‡çš„æ•°å­¦å…¬å¼ï¼Œå¹¶å°†ç¬¦å·å®šä¹‰å­˜å…¥æ•°æ®åº“ã€‚"

### ä»£ç ç”Ÿæˆ
> "æ ¹æ®è¿™ç¯‡è®ºæ–‡çš„æ–¹æ³•éƒ¨åˆ†ï¼Œç”Ÿæˆ PyTorch æ¨¡å‹ä»£ç ï¼Œå¹¶æå–è¶…å‚æ•°ã€‚"

### å¯è§†åŒ–
> "ä¸ºè¿™ç¯‡è®ºæ–‡çš„æ¨¡å‹ç»“æ„ç”Ÿæˆä¸€ä¸ª Mermaid æµç¨‹å›¾ã€‚"

## ğŸ“‚ é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ providers/          # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ pdf_loader.ts      # PDF è¯»å–
â”‚   â”œâ”€â”€ structure_parser.ts # ç»“æ„åŒ–åˆ‡åˆ†
â”‚   â”œâ”€â”€ math_explainer.ts   # æ•°å­¦è§£æ & AST
â”‚   â”œâ”€â”€ code_generator.ts   # ä»£ç  & Config ç”Ÿæˆ
â”‚   â””â”€â”€ visualization.ts    # Mermaid å›¾è¡¨ç”Ÿæˆ
â”œâ”€â”€ database.ts         # SQLite æ•°æ®åº“ç®¡ç†
â”œâ”€â”€ server.ts           # MCP æœåŠ¡å™¨å…¥å£
â””â”€â”€ types.d.ts          # ç±»å‹å®šä¹‰
```

## ğŸ“„ License
MIT
